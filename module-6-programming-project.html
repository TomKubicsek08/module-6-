<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>CMPS 162: Module 6 Programming Project</title>
<style>
    * { font-family: monospace; }
</style>
<script>

//---------------------------//
// The Document Object Model //
//---------------------------//
console.log("The Document Object Model");

// 1. Complete the Fahrenheit to Celsius converter

function fahrenheitToCelsius() {
    let fahrenheit = document.getElementById("fahrenheit").value;
    if (fahrenheit !== "") {
        let celsius = (parseFloat(fahrenheit) - 32) * 5 / 9;
        document.getElementById("celsius").value = celsius.toFixed(2); // Round to 2 decimal places
    }
}

function celsiusToFahrenheit() {
    let celsius = document.getElementById("celsius").value;
    if (celsius !== "") {
        let fahrenheit = (parseFloat(celsius) * 9 / 5) + 32;
        document.getElementById("fahrenheit").value = fahrenheit.toFixed(2); // Round to 2 decimal places
    }
}

// Attach event listeners to call the functions on blur (losing focus)
window.onload = function() {
    document.getElementById("fahrenheit").addEventListener("blur", fahrenheitToCelsius);
    document.getElementById("celsius").addEventListener("blur", celsiusToFahrenheit);
}

// 2. Function to count the number of DOM elements in the body
function countDOMElements() {
    let count = document.body.getElementsByTagName("*").length;
    console.log("Total DOM Elements in Body:", count);
    return count;
}

// 3. Function to count the number of text elements in the body
function countTextElements() {
    let elements = document.body.getElementsByTagName("*");
    let textCount = 0;
    
    for (let i = 0; i < elements.length; i++) {
        for (let node of elements[i].childNodes) {
            if (node.nodeType === Node.TEXT_NODE && node.nodeValue.trim() !== "") {
                textCount++;
            }
        }
    }

    console.log("Total Text Elements in Body:", textCount);
    return textCount;
}

// Run these functions on page load
window.onload = function() {
    document.getElementById("fahrenheit").addEventListener("blur", fahrenheitToCelsius);
    document.getElementById("celsius").addEventListener("blur", celsiusToFahrenheit);
    
    // Count elements after the page loads
    setTimeout(() => {
        countDOMElements();
        countTextElements();
    }, 1000);
}

</script>
</head>
<body>
  <p>See console for results!</p>
  <input type="text" id="fahrenheit"> - enter fahrenheit<br>
  or<br>
  <input type="text" id="celsius"> - enter celsius<br>
</body>
</html>
